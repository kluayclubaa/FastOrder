(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{87:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>C});var t,s=a(5155),i=a(2115),n=a(5610),l=a(5317),d=a(6203),c=a(5196),o=a(4416),m=a(8564),u=a(5695),p="basil",h="https://js.stripe.com",x="".concat(h,"/").concat(p,"/stripe.js"),b=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,f=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,g=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),r=0;r<e.length;r++){var a,t=e[r];if(a=t.src,b.test(a)||f.test(a))return t}return null},j=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(x).concat(r);var t=document.head||document.body;if(!t)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(a),a},v=function(e,r){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:r})},y=null,N=null,w=null,k=function(e,r,a){if(null===e)return null;var t,s=r[0].match(/^pk_test/),i=3===(t=e.version)?"v3":t;s&&i!==p&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(p,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var n=e.apply(void 0,r);return v(n,a),n},S=!1,I=function(){return t?t:t=(null!==y?y:(y=new Promise(function(e,r){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var a,t=g();t?t&&null!==w&&null!==N&&(t.removeEventListener("load",w),t.removeEventListener("error",N),null==(a=t.parentNode)||a.removeChild(t),t=j(null)):t=j(null),w=function(){window.Stripe?e(window.Stripe):r(Error("Stripe.js not available"))},N=function(e){r(Error("Failed to load Stripe.js",{cause:e}))},t.addEventListener("load",w),t.addEventListener("error",N)}catch(e){r(e);return}})).catch(function(e){return y=null,Promise.reject(e)})).catch(function(e){return t=null,Promise.reject(e)})};Promise.resolve().then(function(){return I()}).catch(function(e){S||console.warn(e)});var E=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];S=!0;var t=Date.now();return I().then(function(e){return k(e,r,t)})};function C(){let e=(0,u.useRouter)(),[r,a]=(0,i.useState)("free-trial"),[t,p]=(0,i.useState)(!1),h=async e=>{let r=n.j2.currentUser;if(!r||!r.email)return void console.error("ยังไม่ได้เข้าสู่ระบบ");p(!0);try{let a=await fetch("https://api-hhxizqi6xq-uc.a.run.app/api/createCheckoutSession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e,customerEmail:r.email})});if(!a.ok){let e=await a.text();throw Error("HTTP ".concat(a.status,": ").concat(e))}let t=await a.json();if(!t.sessionId)throw Error("No session ID returned from server");let s=await E("pk_test_51Ql8mWK9RCqnKV4v9cBO0TiR6fuNVMaGrGV3kapf6JFyGNjp6z3QrbNM3J4xYFfd1ZGQF5JIlbMxbPE29uw8S34f00UzX4N2c3");if(s&&t.sessionId){let{error:e}=await s.redirectToCheckout({sessionId:t.sessionId});if(e)throw e}}catch(e){console.error("Error in handleSubscribe:",e),alert("เกิดข้อผิดพลาดในการสมัครสมาชิก กรุณาลองใหม่อีกครั้ง")}finally{p(!1)}},x=async()=>{try{await (0,d.CI)(n.j2),e.push("/")}catch(e){console.error("เกิดข้อผิดพลาดในการออกจากระบบ:",e)}};(0,i.useEffect)(()=>{let r=(0,d.hg)(n.j2,async r=>{if(r)try{let a=(0,l.H9)(n.db,"users",r.uid),t=await (0,l.x7)(a);if(t.exists()){let r=t.data(),a=(null==r?void 0:r.isPaid)===!0;e.push(a?"/dashboard":"/pricing")}else e.push("/pricing")}catch(r){console.error("Error fetching user data:",r),e.push("/pricing")}});return()=>r()},[e]);let b=[{id:"free-trial",name:"ทดลองใช้",priceId:"price_1RSDUUK9RCqnKV4vtv12xMm3",price:"ฟรี",duration:"7 วัน",popular:!1},{id:"monthly",name:"รายเดือน",priceId:"price_1RSD2mK9RCqnKV4vir77dkWd",price:"299",duration:"ต่อเดือน",popular:!1},{id:"yearly",name:"รายปี",priceId:"price_1RSD3GK9RCqnKV4vYqJju8GZ",price:"3,000",duration:"ต่อปี",popular:!0},{id:"lifetime",name:"ตลอดชีพ",priceId:"price_1RSD3GK9RCqnKV4vYqJju8GZ",price:"5,000",duration:"ชำระครั้งเดียว",popular:!1}],f=[{category:"การใช้งาน",items:[{name:"ใช้งานได้ทุกฟีเจอร์",included:["free-trial","monthly","yearly","lifetime"]}]},{category:"คุณสมบัติ",items:[{name:"อัพเดทฟีเจอร์ใหม่",included:["monthly","yearly","lifetime"]},{name:"ดาวน์โหลดข้อมูลออฟไลน์",included:["yearly","lifetime"]},{name:"ส่งออกข้อมูลในรูปแบบต่างๆ",included:["yearly","lifetime"]}]},{category:"การสนับสนุน",items:[{name:"สนับสนุนทางเทคนิค",included:["monthly","yearly","lifetime"]},{name:"การตอบกลับด่วน",included:["monthly","yearly","lifetime"]},{name:"สนับสนุนทางเทคนิคตลอดการใช้งาน",included:["lifetime"]}]}];return(0,s.jsx)("div",{className:"min-h-screen bg-white",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"เลือกแผนที่เหมาะกับคุณ"}),(0,s.jsx)("p",{className:"text-gray-600",children:"เราให้คุณเลือกแผนที่เหมาะสมกับความต้องการของคุณ"})]}),(0,s.jsx)("div",{className:"md:hidden space-y-6",children:b.map(e=>(0,s.jsx)("div",{className:"bg-white rounded-lg border ".concat(r===e.id?"border-blue-500":"border-gray-200"," overflow-hidden"),children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.name}),(0,s.jsxs)("div",{className:"flex items-baseline mt-2",children:[(0,s.jsx)("span",{className:"text-3xl font-bold",children:e.price}),"ฟรี"!==e.price&&(0,s.jsx)("span",{className:"ml-1",children:"฿"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:e.duration})]}),(0,s.jsx)("div",{className:"mt-6 space-y-4",children:f.map(r=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:r.category}),(0,s.jsx)("ul",{className:"space-y-2",children:r.items.map(r=>{var a,t;return(0,s.jsx)("li",{className:"flex items-start",children:"values"in r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0"}),(0,s.jsxs)("span",{children:[r.name,":"," ",null==(a=r.values)?void 0:a[e.id]]})]}):(null==(t=r.included)?void 0:t.includes(e.id))?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0"}),(0,s.jsx)("span",{children:r.name})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"h-5 w-5 text-gray-300 mr-2 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-gray-400",children:r.name})]})},"mobile-feat-".concat(r.name))})})]},"mobile-cat-".concat(r.category)))}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{className:"flex items-center mb-4 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600",name:"mobile-plan",checked:r===e.id,onChange:()=>a(e.id)}),(0,s.jsx)("span",{className:"ml-2",children:"เลือกแผนนี้"})]}),(0,s.jsx)("button",{onClick:()=>h(e.priceId),disabled:r!==e.id||t,className:"w-full py-3 px-4 rounded-md font-medium transition-all duration-200 ".concat(r!==e.id||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:t&&r===e.id?"กำลังดำเนินการ...":"free-trial"===e.id?"เริ่มทดลองใช้":"สมัครสมาชิก"})]})]})},"mobile-".concat(e.id)))}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5",children:[(0,s.jsx)("div",{className:"p-6 border-b border-r border-gray-200"}),b.map((e,t)=>(0,s.jsxs)("div",{className:"p-6 text-center border-b ".concat(t<b.length-1?"border-r":""," border-gray-200 relative ").concat(e.popular?"bg-blue-50":""),children:[e.popular&&(0,s.jsx)("div",{className:"absolute top-0 inset-x-0 h-1 bg-blue-500"}),e.popular&&(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsxs)("div",{className:"bg-blue-500 text-white text-xs font-semibold px-2 py-1 rounded-full shadow-sm flex items-center",children:[(0,s.jsx)(m.A,{className:"h-3 w-3 mr-1"})," แนะนำ"]})}),(0,s.jsx)("h3",{className:"text-lg font-bold mb-1",children:e.name}),(0,s.jsxs)("div",{className:"flex items-baseline justify-center",children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:e.price}),"ฟรี"!==e.price&&(0,s.jsx)("span",{className:"ml-1",children:"฿"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.duration}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600",name:"plan",checked:r===e.id,onChange:()=>a(e.id)}),(0,s.jsx)("span",{className:"ml-2 text-sm",children:"เลือก"})]})})]},e.id))]}),f.map((e,r)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 bg-gray-50",children:[(0,s.jsx)("div",{className:"p-4 font-medium text-gray-700 border-r border-gray-200",children:e.category}),(0,s.jsx)("div",{className:"col-span-4"})]}),e.items.map((a,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-5 ".concat(r===f.length-1&&t===e.items.length-1?"":"border-b"," border-gray-200"),children:[(0,s.jsx)("div",{className:"p-4 text-gray-700 border-r border-gray-200",children:a.name}),b.map((e,r)=>{var t,i;return(0,s.jsx)("div",{className:"p-4 text-center ".concat(r<b.length-1?"border-r":""," border-gray-200"),children:"values"in a?(0,s.jsx)("span",{className:"text-sm font-medium",children:null==(t=a.values)?void 0:t[e.id]}):(null==(i=a.included)?void 0:i.includes(e.id))?(0,s.jsx)(c.A,{className:"h-5 w-5 text-green-500 mx-auto"}):(0,s.jsx)(o.A,{className:"h-5 w-5 text-gray-300 mx-auto"})},"".concat(a.name,"-").concat(e.id))})]},a.name))]},e.category)),(0,s.jsxs)("div",{className:"grid grid-cols-5 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"p-6 border-r border-gray-200"}),b.map((e,a)=>(0,s.jsx)("div",{className:"p-6 text-center ".concat(a<b.length-1?"border-r":""," border-gray-200"),children:(0,s.jsx)("button",{onClick:()=>h(e.priceId),disabled:r!==e.id||t,className:"w-full py-2 px-4 rounded-md font-medium transition-all duration-200 ".concat(r!==e.id||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:t&&r===e.id?"กำลังดำเนินการ...":"free-trial"===e.id?"เริ่มทดลองใช้":"สมัครสมาชิก"})},"cta-".concat(e.id)))]})]})}),(0,s.jsx)("div",{className:"mt-16 text-center",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg border border-gray-200 max-w-3xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"มีคำถาม?"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"หากคุณมีคำถามเกี่ยวกับแผนการสมัครสมาชิกของเรา ทีมงานของเราพร้อมให้ความช่วยเหลือคุณ"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)("button",{onClick:x,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md transition duration-200",children:"ออกจากระบบ"}),(0,s.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ติดต่อเรา"})]})]})})]})})}},1720:(e,r,a)=>{Promise.resolve().then(a.bind(a,87))},4416:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5196:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5610:(e,r,a)=>{"use strict";a.d(r,{H9:()=>i.H9,IG:()=>m,db:()=>o,j2:()=>c,x7:()=>i.x7});var t=a(3915),s=a(6203),i=a(5317),n=a(858),l=a(1427);let d=(0,t.Wp)({apiKey:"AIzaSyBdnWr8bkOF5oP2gSsjo9pXbrZbJO-QzDc",authDomain:"fastorder-8f143.firebaseapp.com",projectId:"fastorder-8f143",storageBucket:"fastorder-8f143.firebasestorage.app",messagingSenderId:"827965800193",appId:"1:827965800193:web:1d9ff91b5f6adb90bf6500",measurementId:"G-2LXXJM6W59"}),c=(0,s.xI)(d),o=(0,i.aU)(d);new s.HF;let m=(0,n.c7)(d);(0,l.Uz)(d)},8564:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[992,122,234,955,441,684,358],()=>r(1720)),_N_E=e.O()}]);