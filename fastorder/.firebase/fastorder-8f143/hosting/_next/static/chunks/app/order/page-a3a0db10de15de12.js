(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{2723:(e,s,t)=>{Promise.resolve().then(t.bind(t,9516))},5589:(e,s,t)=>{"use strict";t.d(s,{ZD:()=>r,bi:()=>l,mQ:()=>i,mn:()=>o,z0:()=>n});var a=t(5610),c=t(5317);let l=async(e,s)=>{try{let t=(0,c.H9)((0,c.rJ)(a.db,"restaurants",e,"members")),l={...s,points:0,totalSpent:0,joinDate:(0,c.O5)(),lastVisit:(0,c.O5)(),tier:"bronze",restaurantId:e};return await (0,c.BN)(t,l),t.id}catch(e){throw console.error("Error creating member:",e),e}},r=async(e,s)=>{try{let t=(0,c.rJ)(a.db,"restaurants",e,"members"),l=(0,c.P)(t,(0,c._M)("phone","==",s)),r=await (0,c.GG)(l);if(!r.empty){let e=r.docs[0];return{id:e.id,...e.data()}}return null}catch(e){throw console.error("Error finding member:",e),e}},n=async(e,s,t,l,r)=>{try{let n=(0,c.H9)(a.db,"restaurants",e,"members",s);await (0,c.mZ)(n,{points:(0,c.GV)(t),lastVisit:(0,c.O5)()});let i=(0,c.rJ)(a.db,"restaurants",e,"point_transactions");return await (0,c.gS)(i,{memberId:s,type:"earn",points:t,orderId:l,description:r||"ได้รับแต้มจากการสั่งอาหาร",createdAt:(0,c.O5)()}),!0}catch(e){throw console.error("Error adding points:",e),e}},i=e=>Math.floor(e),o=async(e,s,t)=>{let l="bronze";t>=1e4?l="platinum":t>=5e3?l="gold":t>=2e3&&(l="silver");let r=(0,c.H9)(a.db,"restaurants",e,"members",s);await (0,c.mZ)(r,{tier:l,totalSpent:t})}},5610:(e,s,t)=>{"use strict";t.d(s,{H9:()=>l.H9,IG:()=>x,db:()=>d,j2:()=>o,x7:()=>l.x7});var a=t(3915),c=t(6203),l=t(5317),r=t(858),n=t(1427);let i=(0,a.Wp)({apiKey:"AIzaSyBdnWr8bkOF5oP2gSsjo9pXbrZbJO-QzDc",authDomain:"fastorder-8f143.firebaseapp.com",projectId:"fastorder-8f143",storageBucket:"fastorder-8f143.firebasestorage.app",messagingSenderId:"827965800193",appId:"1:827965800193:web:1d9ff91b5f6adb90bf6500",measurementId:"G-2LXXJM6W59"}),o=(0,c.xI)(i),d=(0,l.aU)(i);new c.HF;let x=(0,r.c7)(i);(0,n.Uz)(i)},9516:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Q});var a=t(5155),c=t(2115),l=t(5695),r=t(9137),n=t.n(r),i=t(4186),o=t(2657),d=t(1007),x=t(7809),b=t(238),m=t(7924),u=t(8564),h=t(4616),j=t(4416),p=t(7712),f=t(3052),g=t(5610),N=t(5317),v=t(7939),y=t(1586),w=t(9869),S=t(5196),k=t(6862);function C(e){let{isOpen:s,onClose:t,onSelectPayment:l,restaurantPromptPayID:r,dynamicQRCodeData:n,totalAmount:i,onReceiptUpload:o,isUploading:d}=e,[x,b]=(0,c.useState)(null),[m,u]=(0,c.useState)(!1),[h,p]=(0,c.useState)(!1),[f,g]=(0,c.useState)("");if((0,c.useEffect)(()=>{n&&m&&k.toDataURL(n,{width:256,margin:1,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{g(e),console.log("QR code generated successfully")}).catch(e=>{console.error("Error generating QR code:",e),g("")})},[n,m]),!s)return null;let N=e=>{b(e),"counter"===e?(l(e),t()):"scan"===e&&r&&u(!0)},C=async e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t)try{await o(t),p(!0)}catch(e){console.error("Error uploading receipt:",e)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"เลือกวิธีการชำระเงิน"}),(0,a.jsx)("button",{onClick:()=>{b(null),u(!1),p(!1),g(""),t()},className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(j.A,{className:"h-6 w-6"})})]}),m?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h4",{className:"font-bold mb-4",children:"สแกน QR Code เพื่อชำระเงิน"}),(0,a.jsxs)("div",{className:"mb-4 py-3 bg-blue-50 rounded-xl border-2 border-blue-200",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"ยอดรวมที่ต้องชำระ"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["฿",i.toFixed(2)]})]}),(0,a.jsx)("div",{className:"bg-white p-4 border-2 border-gray-200 rounded-xl inline-block",children:f?(0,a.jsx)("img",{src:f||"/placeholder.svg",alt:"Payment QR Code",className:"w-64 h-64 object-contain"}):(0,a.jsx)("div",{className:"w-64 h-64 flex items-center justify-center bg-gray-100 text-gray-400",children:n?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:"กำลังสร้าง QR Code..."})]}):"ไม่สามารถสร้าง QR Code ได้"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"สแกน QR Code ด้วยแอปธนาคารของคุณ"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("h5",{className:"font-medium mb-3",children:"อัพโหลดหลักฐานการโอนเงิน"}),h?(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(S.A,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"อัพโหลดหลักฐานเรียบร้อย"})]}):(0,a.jsxs)("label",{className:"cursor-pointer block",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",disabled:d}),(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(w.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:d?"กำลังอัพโหลด...":"คลิกเพื่อเลือกรูปหลักฐานการโอนเงิน"})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50",children:"กลับ"}),(0,a.jsx)("button",{onClick:()=>{h&&(l("scan"),t(),p(!1),u(!1),b(null),g(""))},disabled:!h||d,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ยืนยันการชำระเงิน"})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center py-4 bg-blue-50 rounded-xl border-2 border-blue-200",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"ยอดรวมที่ต้องชำระ"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["฿",i.toFixed(2)]})]}),(0,a.jsx)("button",{onClick:()=>N("scan"),disabled:!r,className:"w-full p-4 border-2 rounded-xl transition-all ".concat(r?"border-blue-200 hover:border-blue-400 hover:bg-blue-50":"border-gray-200 bg-gray-50 cursor-not-allowed"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-full mr-4 ".concat(r?"bg-blue-100":"bg-gray-200"),children:(0,a.jsx)(v.A,{className:"h-6 w-6 ".concat(r?"text-blue-600":"text-gray-400")})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"font-bold ".concat(r?"text-gray-800":"text-gray-400"),children:"สแกนจ่าย"}),(0,a.jsx)("p",{className:"text-sm ".concat(r?"text-gray-600":"text-gray-400"),children:r?"สแกน QR Code เพื่อชำระเงิน":"ร้านยังไม่ได้ตั้งค่า PromptPay ID"})]})]})}),(0,a.jsx)("button",{onClick:()=>N("counter"),className:"w-full p-4 border-2 border-gray-200 rounded-xl hover:border-green-400 hover:bg-green-50 transition-all",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 rounded-full mr-4",children:(0,a.jsx)(y.A,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"font-bold text-gray-800",children:"จ่ายที่เคาเตอร์"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"ชำระเงินที่เคาเตอร์เมื่อรับอาหาร"})]})]})})]})]})})})}var A=t(858),D=t(248),I=t.n(D),E=t(9420),_=t(8883),z=t(5589);function O(e){let{isOpen:s,onClose:t,onMemberLogin:l,onGuestContinue:r,restaurantId:n}=e,[i,o]=(0,c.useState)("login"),[x,m]=(0,c.useState)(""),[u,h]=(0,c.useState)(""),[p,f]=(0,c.useState)(""),[g,N]=(0,c.useState)(!1),[v,y]=(0,c.useState)("");if(!s)return null;let w=async()=>{if(!x.trim())return void y("กรุณากรอกเบอร์โทรศัพท์");N(!0),y("");try{let e=await (0,z.ZD)(n,x);e?(l(e),t()):(y("ไม่พบข้อมูลสมาชิก กรุณาสมัครสมาชิกใหม่"),o("register"))}catch(e){y("เกิดข้อผิดพลาด กรุณาลองใหม่อีกครั้ง")}finally{N(!1)}},S=async()=>{if(!x.trim()||!u.trim())return void y("กรุณากรอกข้อมูลให้ครบถ้วน");N(!0),y("");try{if(await (0,z.ZD)(n,x)){y("เบอร์โทรศัพท์นี้เป็นสมาชิกอยู่แล้ว"),o("login");return}let e={id:await (0,z.bi)(n,{phone:x,name:u,email:p||"",lastVisit:new Date}),phone:x,name:u,email:p||"",points:0,totalSpent:0,joinDate:new Date,lastVisit:new Date,tier:"bronze",restaurantId:n};l(e),t()}catch(e){y("เกิดข้อผิดพลาดในการสมัครสมาชิก")}finally{N(!1)}},k=()=>{m(""),h(""),f(""),y("")};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"login"===i?"เข้าสู่ระบบสมาชิก":"สมัครสมาชิกใหม่"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(j.A,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,a.jsx)("h4",{className:"font-bold text-purple-800",children:"สิทธิประโยชน์สมาชิก"})]}),(0,a.jsxs)("ul",{className:"text-sm text-purple-700 space-y-1",children:[(0,a.jsx)("li",{children:"• สะสมแต้ม 1 บาท = 1 แต้ม"}),(0,a.jsx)("li",{children:"• แลกแต้มเป็นส่วนลด"}),(0,a.jsx)("li",{children:"• รับโปรโมชั่นพิเศษ"}),(0,a.jsx)("li",{children:"• ติดตามประวัติการสั่ง"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"เบอร์โทรศัพท์ *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"tel",value:x,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"08xxxxxxxx"})]})]}),"register"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ชื่อ-นามสกุล *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ชื่อ นามสกุล"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"อีเมล (ไม่บังคับ)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"email",value:p,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"})]})]})]}),v&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-red-600 text-sm",children:v})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:"login"===i?w:S,disabled:g,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 disabled:opacity-50",children:g?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"login"===i?"กำลังเข้าสู่ระบบ...":"กำลังสมัครสมาชิก..."]}):"login"===i?"เข้าสู่ระบบ":"สมัครสมาชิก"}),"login"===i?(0,a.jsx)("button",{onClick:()=>{o("register"),k()},className:"w-full py-3 border border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50",children:"สมัครสมาชิกใหม่"}):(0,a.jsx)("button",{onClick:()=>{o("login"),k()},className:"w-full py-3 border border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50",children:"เข้าสู่ระบบสมาชิก"}),(0,a.jsx)("button",{onClick:r,className:"w-full py-3 bg-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-300",children:"สั่งแบบไม่เป็นสมาชิก"})]})]})]})})})}var F=t(3861);function P(e){let{restaurantId:s,onNotificationReceived:t}=e,[l,r]=(0,c.useState)([]),[n,i]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!s)return;let e=(0,N.P)((0,N.rJ)(g.db,"users",s,"call_staff"),(0,N._M)("status","==","pending")),a=(0,N.aQ)(e,e=>{let s=[];if(e.forEach(e=>{s.push({id:e.id,...e.data()})}),s.length>l.length&&l.length>0){let e=s[s.length-1];t&&t(e);try{new Audio("/notification.mp3").play().catch(console.error)}catch(e){console.error("Error playing notification sound:",e)}}r(s)});return()=>a()},[s,l.length,t]);let o=async(e,t)=>{try{let a=(0,N.H9)(g.db,"users",s,"call_staff",e);await (0,N.mZ)(a,{status:"confirmed",confirmedAt:(0,N.O5)()});let c={type:"staff_confirmed",table:t,message:"พนักงานได้รับเรื่องการเรียกจากโต๊ะ ".concat(t," แล้ว กำลังไปหาคุณ"),timestamp:Date.now()},l=JSON.parse(localStorage.getItem("customer_notifications")||"[]");l.push(c),localStorage.setItem("customer_notifications",JSON.stringify(l)),alert("รับเรื่องการเรียกจากโต๊ะ ".concat(t," แล้ว"))}catch(e){console.error("Error confirming staff call:",e),alert("เกิดข้อผิดพลาดในการรับเรื่อง")}};return 0===l.length?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,a.jsxs)("button",{onClick:()=>i(!n),className:"relative bg-red-500 text-white p-3 rounded-full shadow-lg hover:bg-red-600 transition-all duration-300 animate-pulse",children:[(0,a.jsx)(F.A,{className:"h-6 w-6"}),l.length>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-400 text-red-800 text-xs font-bold px-2 py-1 rounded-full min-w-[20px] h-5 flex items-center justify-center",children:l.length})]})}),n&&(0,a.jsxs)("div",{className:"fixed top-16 right-4 z-50 bg-white rounded-lg shadow-xl border border-gray-200 w-80 max-h-96 overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 bg-red-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"font-bold text-red-800 flex items-center",children:[(0,a.jsx)(F.A,{className:"h-5 w-5 mr-2"}),"แจ้งเตือนเรียกพนักงาน"]}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(j.A,{className:"h-5 w-5"})})]})}),(0,a.jsx)("div",{className:"p-4 space-y-3",children:l.map(e=>{var s;return(0,a.jsxs)("div",{className:"border border-orange-200 rounded-lg p-3 bg-orange-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-bold text-orange-800",children:["โต๊ะ ",e.table]}),(0,a.jsx)("div",{className:"text-xs text-orange-600",children:(null==(s=e.createdAt)?void 0:s.toDate)?new Date(e.createdAt.toDate()).toLocaleTimeString("th-TH"):"เมื่อสักครู่"})]}),(0,a.jsx)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-bold",children:"รอการตอบรับ"})]}),(0,a.jsxs)("button",{onClick:()=>o(e.id,e.table),className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors font-bold flex items-center justify-center",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"รับเรื่องแล้ว"]})]},e.id)})})]})]})}var R=t(646);function q(){let[e,s]=(0,c.useState)([]);(0,c.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("customer_notifications");if(e){let t=JSON.parse(e).filter(e=>e.timestamp>Date.now()-3e4);t.length>0&&(s(t),localStorage.setItem("customer_notifications",JSON.stringify([])))}};e();let t=setInterval(e,2e3);return()=>clearInterval(t)},[]);let t=e=>{s(s=>s.filter(s=>s.timestamp!==e))};return 0===e.length?null:(0,a.jsx)("div",{className:"fixed top-4 left-4 z-50 space-y-2",children:e.map(e=>(0,a.jsx)("div",{className:"bg-green-500 text-white p-4 rounded-lg shadow-lg max-w-sm animate-slide-in-left",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(R.A,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold",children:"พนักงานรับเรื่องแล้ว!"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:e.message})]})]}),(0,a.jsx)("button",{onClick:()=>t(e.timestamp),className:"text-white hover:text-gray-200 ml-2",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})},e.timestamp))})}function J(){let[e,s]=(0,c.useState)([]),[t,r]=(0,c.useState)([]),[v,y]=(0,c.useState)([]),[w,S]=(0,c.useState)("all"),[k,D]=(0,c.useState)(""),[E,_]=(0,c.useState)([]),[z,F]=(0,c.useState)(!1),[R,J]=(0,c.useState)(!0),[Q,M]=(0,c.useState)(null),[L,G]=(0,c.useState)(null),[H,U]=(0,c.useState)([]),[T,Z]=(0,c.useState)(""),[V,B]=(0,c.useState)(null),[W,X]=(0,c.useState)(null),[K,Y]=(0,c.useState)(1),[$,ee]=(0,c.useState)(!1),[es,et]=(0,c.useState)(!1),[ea,ec]=(0,c.useState)(null),[el,er]=(0,c.useState)(""),[en,ei]=(0,c.useState)(!1),[eo,ed]=(0,c.useState)(null),[ex,eb]=(0,c.useState)({show:!1,message:"",type:""}),[em,eu]=(0,c.useState)(!1),[eh,ej]=(0,c.useState)(""),[ep,ef]=(0,c.useState)(null),[eg,eN]=(0,c.useState)(!1),[ev,ey]=(0,c.useState)([]),[ew,eS]=(0,c.useState)(null),[ek,eC]=(0,c.useState)(0),[eA,eD]=(0,c.useState)(!1),eI=(0,l.useRouter)(),eE=(0,l.useSearchParams)(),e_=eE.get("id"),ez=eE.get("table")||"1",eO="true"===eE.get("staff");(0,c.useEffect)(()=>{eD(eO)},[eO]);let eF=async()=>{if(e_&&ez)try{await (0,N.gS)((0,N.rJ)(g.db,"users",e_,"call_staff"),{table:ez,createdAt:(0,N.O5)(),status:"pending"}),eq("เรียกพนักงานแล้ว กรุณารอสักครู่","success")}catch(e){console.error("Error calling staff:",e),eq("ไม่สามารถเรียกพนักงานได้","error")}};(0,c.useEffect)(()=>{let e=e=>{$||(e.preventDefault(),e.returnValue="")},s=e=>{window.location.pathname.includes("/order/queue")||$||(e.preventDefault(),window.history.pushState(null,"",window.location.href))};return window.addEventListener("beforeunload",e),window.addEventListener("popstate",s),window.history.pushState(null,"",window.location.href),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("popstate",s)}},[$]),(0,c.useEffect)(()=>{if(e_&&ez){let e="order_".concat(e_,"_").concat(ez),s=localStorage.getItem(e);s&&(B(s),eP(s))}},[e_,ez]);let eP=e=>{if(!e_)return;let s=(0,N.H9)(g.db,"users",e_,"orders",e);return(0,N.aQ)(s,e=>{if(e.exists()){let s=e.data();if(X(s.status),"completed"===s.status||"cancelled"===s.status){let e="order_".concat(e_,"_").concat(ez);localStorage.removeItem(e),B(null),X(null)}}else{let e="order_".concat(e_,"_").concat(ez);localStorage.removeItem(e),B(null),X(null)}},e=>{console.error("Error listening to order:",e)})};(0,c.useEffect)(()=>{if(!e_)return void J(!1);(async()=>{try{J(!0);let e=await (0,N.GG)((0,N.P)((0,N.rJ)(g.db,"users"),(0,N._M)("__name__","==",e_)));if(e.empty){console.error("Restaurant not found"),eq("ไม่พบข้อมูลร้านอาหาร","error"),J(!1);return}let t=e.docs[0].data();M(t),er(t.paymentQRCode||""),ej(t.promptPayID||"");let a=(0,N.P)((0,N.rJ)(g.db,"users",e_,"menu"),(0,N._M)("isAvailable","==",!0)),c=await (0,N.GG)(a),l=[],n=new Set;c.forEach(e=>{let s=e.data(),t={id:e.id,...s};l.push(t),s.category&&n.add(s.category)}),s(l),r(l),y(Array.from(n)),J(!1)}catch(e){console.error("Error fetching restaurant data:",e),eq("ไม่สามารถโหลดข้อมูลร้านอาหารได้","error"),J(!1)}})()},[e_]),(0,c.useEffect)(()=>{let s=e;"all"!==w&&(s=s.filter(e=>e.category===w)),k&&(s=s.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())||e.description.toLowerCase().includes(k.toLowerCase()))),r(s)},[w,k,e]);let eR=E.reduce((e,s)=>e+s.price*s.quantity+s.selectedOptions.reduce((e,s)=>e+s.price,0)*s.quantity,0),eq=(e,s)=>{eb({show:!0,message:e,type:s}),setTimeout(()=>{eb({show:!1,message:"",type:""})},3e3)},eJ=e=>{G(e),U([]),Z(""),Y(1)},eQ=(e,s,t,a)=>{_(c=>{let l=c.findIndex(a=>a.id===e.id&&JSON.stringify(a.selectedOptions)===JSON.stringify(s)&&a.specialInstructions===t);return l>=0?c.map((e,s)=>s===l?{...e,quantity:e.quantity+a}:e):[...c,{...e,quantity:a,selectedOptions:s,specialInstructions:t}]}),G(null),Y(1),eq("เพิ่ม ".concat(e.name," ลงตะกร้าแล้ว"),"success")},eM=(e,s)=>{if(s<1)return void eL(e);_(t=>t.map((t,a)=>a===e?{...t,quantity:s}:t))},eL=e=>{_(s=>s.filter((s,t)=>t!==e))},eG=()=>{_([])},eH=async e=>{if(e_)try{ei(!0);let s=Date.now(),t="receipt-".concat(s,"-").concat(e.name),a=(0,A.KR)(g.IG,"receipts/".concat(e_,"/").concat(t));await (0,A.D)(a,e);let c=await (0,A.qk)(a);return ed(c),eq("อัพโหลดหลักฐานการโอนเงินสำเร็จ","success"),c}catch(e){throw console.error("Error uploading receipt:",e),eq("ไม่สามารถอัพโหลดหลักฐานการโอนเงินได้","error"),e}finally{ei(!1)}},eU=async e=>{ec(e),"counter"===e?await eW(e):"scan"===e&&(eo?await eW(e,eo):eq("กรุณาอัพโหลดหลักฐานการโอนเงินก่อน","error"))},eT=async()=>{if(e_)try{let e=new Date,s=e.getHours(),t="morning";s>=12&&s<18?t="afternoon":s>=18&&(t="evening");let a=(0,N.P)((0,N.rJ)(g.db,"restaurants",e_,"promotions"),(0,N._M)("isActive","==",!0)),c=await (0,N.GG)(a),l=[];c.forEach(s=>{let a={id:s.id,...s.data()};if("all"===a.timeOfDay||a.timeOfDay===t)if(a.validFrom&&a.validTo){let s=a.validFrom.toDate(),t=a.validTo.toDate();e>=s&&e<=t&&l.push(a)}else l.push(a)}),ey(l)}catch(e){console.error("Error loading promotions:",e)}},eZ=e=>ep?e.minPoints&&ep.points<e.minPoints?void eq("ต้องมีแต้มอย่างน้อย ".concat(e.minPoints," แต้ม"),"error"):e.minSpent&&eR<e.minSpent?void eq("ยอดซื้อต้องอย่างน้อย ฿".concat(e.minSpent),"error"):void(eS(e),eq("ใช้โปรโมชั่นสำเร็จ","success")):void eq("กรุณาเข้าสู่ระบบสมาชิกก่อน","error"),eV=()=>{let e=eR;return ew&&"discount"===ew.type&&(e*=1-ew.value/100),e},eB=e=>Math.floor(e/20);(0,c.useEffect)(()=>{let e=eB(eV());ew&&"points_multiplier"===ew.type&&(e*=ew.value),eC(e)},[eR,ew]),(0,c.useEffect)(()=>{e_&&eT()},[e_]);let eW=async(e,s)=>{if(!e_||0===E.length)return void eq("ไม่สามารถส่งออเดอร์ได้ กรุณาลองใหม่อีกครั้ง","error");try{eu(!0),ee(!0);let t=eV(),a={items:E.map(e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity,selectedOptions:e.selectedOptions,specialInstructions:e.specialInstructions})),table:ez,status:"pending",totalAmount:t,originalAmount:eR,paymentMethod:e,receiptUrl:"scan"===e?s:null,memberId:(null==ep?void 0:ep.id)||null,memberPhone:(null==ep?void 0:ep.phone)||null,appliedPromotion:ew?{id:ew.id,title:ew.title,type:ew.type,value:ew.value}:null,pointsEarned:ep?ek:0,createdAt:(0,N.O5)()},c=await (0,N.gS)((0,N.rJ)(g.db,"users",e_,"orders"),a);ep&&ek>0&&localStorage.setItem("pending_points_".concat(c.id),JSON.stringify({memberId:ep.id,points:ek,orderId:c.id}));let l="order_".concat(e_,"_").concat(ez);localStorage.setItem(l,c.id),B(c.id),X("pending"),eP(c.id),eq("ส่งออเดอร์สำเร็จ กำลังนำไปยังหน้าติดตามสถานะ","success"),setTimeout(()=>{let e="/order/queue?restaurantId=".concat(e_,"&orderId=").concat(c.id);eI.push(e)},1e3),eG(),ec(null),ed(null),eS(null)}catch(e){console.error("Error submitting order:",e),eq("ไม่สามารถส่งออเดอร์ได้ กรุณาลองใหม่อีกครั้ง","error"),ee(!1)}finally{eu(!1)}},eX=()=>{if(V&&e_){ee(!0);let e="/order/queue?restaurantId=".concat(e_,"&orderId=").concat(V);eI.push(e)}},eK=e=>{switch(e){case"pending":return"รอยืนยัน";case"cooking":return"กำลังปรุง";case"served":return"เสิร์ฟแล้ว";case"completed":return"เสร็จสิ้น";case"cancelled":return"ยกเลิก";default:return e}},eY=e=>{U(s=>s.some(s=>s.id===e.id)?s.filter(s=>s.id!==e.id):[...s,e])},e$=(()=>{let s=new Date().getHours(),t="morning";return s>=12&&s<18?t="afternoon":s>=18&&(t="evening"),e.filter(e=>e.isRecommended&&(!e.recommendedTime||"all"===e.recommendedTime||e.recommendedTime===t))})();return R?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-blue-400",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"กำลังโหลดเมนู..."})]})}):e_?(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 min-h-screen bg-gray-100 pb-24",children:[eA&&e_&&(0,a.jsx)(P,{restaurantId:e_,onNotificationReceived:e=>{eq("มีการเรียกพนักงานจากโต๊ะ ".concat(e.table),"info")}}),!eA&&(0,a.jsx)(q,{}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 bg-blue-400 text-white shadow-lg",children:(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 max-w-7xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 flex items-center",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:[(0,a.jsx)("h1",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold",children:(null==Q?void 0:Q.storeName)||(null==Q?void 0:Q.restaurantName)||"ร้านอาหาร"}),(0,a.jsxs)("p",{className:"jsx-bbc15c8756191ac4 text-blue-100",children:["โต๊ะ ",ez," ",eA&&(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 bg-red-500 px-2 py-1 rounded text-xs ml-2",children:"โหมดพนักงาน"})]})]})}),V&&W&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 hidden md:block mr-4",children:(0,a.jsxs)("button",{onClick:eX,className:"jsx-bbc15c8756191ac4 flex items-center px-4 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-medium",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 mr-2"}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-left",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-sm font-bold",children:"ออเดอร์ปัจจุบัน"}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-xs",children:eK(W)})]}),(0,a.jsx)(o.A,{className:"h-5 w-5 ml-2"})]})}),ep&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 hidden md:block mr-4",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-white text-blue-600 px-4 py-2 rounded-lg border-2 border-blue-200",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-sm font-bold",children:ep.name}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-xs",children:["แต้มสะสม: ",ep.points.toLocaleString()]})]})}),!ep&&!eA&&(0,a.jsxs)("button",{onClick:()=>eN(!0),className:"jsx-bbc15c8756191ac4 hidden md:flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium mr-4",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 mr-2"}),"เข้าสู่ระบบสมาชิก"]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center space-x-4",children:[!eA&&(0,a.jsxs)("button",{onClick:eF,className:"jsx-bbc15c8756191ac4 hidden md:flex items-center px-4 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl font-bold hover:from-orange-600 hover:to-red-600 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,a.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-bbc15c8756191ac4 w-5 h-5 mr-2 animate-pulse",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd",className:"jsx-bbc15c8756191ac4"})}),"เรียกพนักงาน"]}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 relative",children:(0,a.jsxs)("button",{onClick:()=>F(!0),className:"jsx-bbc15c8756191ac4 p-3 rounded-full bg-white text-blue-600 relative shadow-lg hover:bg-blue-50 transition-colors",children:[(0,a.jsx)(x.A,{className:"h-7 w-7"}),E.length>0&&(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 absolute -top-2 -right-2 bg-yellow-400 text-blue-800 text-sm font-bold px-2 py-1 rounded-full min-w-[24px] h-6 flex items-center justify-center",children:E.reduce((e,s)=>e+s.quantity,0)})]})})]})]})})}),V&&W&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 md:hidden bg-yellow-400 text-blue-800 py-3",children:(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 max-w-7xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 mr-2"}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:[(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 font-bold",children:"คุณมีออเดอร์ที่กำลังดำเนินการอยู่"}),(0,a.jsxs)("p",{className:"jsx-bbc15c8756191ac4 text-sm",children:["สถานะ: ",eK(W)]})]})]}),(0,a.jsxs)("button",{onClick:eX,className:"jsx-bbc15c8756191ac4 px-4 py-2 bg-blue-400 text-white font-bold rounded-lg hover:bg-blue-500 flex items-center",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"ดูสถานะ"]})]})})}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 max-w-7xl mx-auto px-4 py-6",children:[ev.length>0&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 mb-8",children:[(0,a.jsxs)("h2",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-purple-600 mb-4 flex items-center",children:[(0,a.jsx)(b.A,{className:"h-6 w-6 mr-2"}),"โปรโมชั่นพิเศษ"]}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 grid grid-cols-1 md:grid-cols-2 gap-4",children:ev.map(e=>(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 "+"border-2 rounded-xl p-4 transition-all ".concat((null==ew?void 0:ew.id)===e.id?"border-purple-500 bg-purple-50":"border-purple-200 hover:border-purple-400"),children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:[(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 font-bold text-purple-800",children:e.title}),(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-sm text-purple-600",children:e.description})]}),(0,a.jsx)("button",{onClick:()=>eZ(e),disabled:!ep||(null==ew?void 0:ew.id)===e.id,className:"jsx-bbc15c8756191ac4 "+"px-3 py-1 rounded-md text-sm font-bold ".concat((null==ew?void 0:ew.id)===e.id?"bg-purple-200 text-purple-800":ep?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:(null==ew?void 0:ew.id)===e.id?"ใช้แล้ว":"ใช้โปรโมชั่น"})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-xs text-purple-500 space-y-1",children:[e.minPoints&&e.minPoints>0&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:["ต้องมีแต้มอย่างน้อย ",e.minPoints," แต้ม"]}),e.minSpent&&e.minSpent>0&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:["ยอดซื้อขั้นต่ำ ฿",e.minSpent]}),!ep&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-red-500",children:"ต้องเป็นสมาชิกเท่านั้น"})]})]},e.id))})]}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 mb-6",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 relative max-w-md mx-auto",children:[(0,a.jsx)(m.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-6 w-6"}),(0,a.jsx)("input",{type:"text",placeholder:"ค้นหาเมนูที่คุณต้องการ...",value:k,onChange:e=>D(e.target.value),className:"jsx-bbc15c8756191ac4 w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 shadow-lg"})]})}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 mb-8",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex overflow-x-auto pb-4 gap-4 hide-scrollbar",children:[(0,a.jsx)("button",{onClick:()=>S("all"),className:"jsx-bbc15c8756191ac4 "+"whitespace-nowrap px-8 py-4 rounded-xl text-lg font-bold transition-all ".concat("all"===w?"bg-blue-400 text-white shadow-lg transform scale-105":"bg-white text-blue-600 border-2 border-blue-400 hover:bg-blue-50"),children:"ทั้งหมด"}),v.map(e=>(0,a.jsx)("button",{onClick:()=>S(e),className:"jsx-bbc15c8756191ac4 "+"whitespace-nowrap px-8 py-4 rounded-xl text-lg font-bold transition-all ".concat(w===e?"bg-blue-400 text-white shadow-lg transform scale-105":"bg-white text-blue-600 border-2 border-blue-400 hover:bg-blue-50"),children:e},e))]})}),e$.length>0&&"all"===w&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 mb-8",children:[(0,a.jsxs)("h2",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-blue-600 mb-4 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 mr-2 text-yellow-500"}),"เมนูแนะนำ"]}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e$.slice(0,4).map(e=>(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-2 border-yellow-400",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 relative",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 h-48 bg-gray-200 overflow-hidden",children:e.imageUrl?(0,a.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.name,className:"jsx-bbc15c8756191ac4 w-full h-full object-cover"}):(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-200",children:(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 text-blue-400 text-4xl",children:"\uD83C\uDF7D️"})})}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 absolute top-2 right-2 bg-yellow-400 text-blue-800 px-2 py-1 rounded-full text-xs font-bold",children:"แนะนำ"})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 p-4",children:[(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 font-bold text-lg text-gray-800 mb-2",children:e.name}),e.description&&(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-blue-600",children:["฿",e.price.toFixed(2)]}),(0,a.jsxs)("button",{onClick:()=>eJ(e),className:"jsx-bbc15c8756191ac4 bg-blue-400 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-500 transition-colors flex items-center",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 mr-1"}),"เพิ่ม"]})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:[(0,a.jsx)("h2",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-blue-600 mb-6",children:"all"===w?"เมนูทั้งหมด":w}),0===t.length?(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-white rounded-2xl p-12 text-center shadow-lg",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 text-xl font-bold text-gray-800 mb-2",children:"ไม่พบเมนูที่คุณค้นหา"}),(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-gray-600",children:"ลองค้นหาด้วยคำอื่น หรือเลือกหมวดหมู่อื่น"})]}):(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 relative",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 h-48 bg-gray-200 overflow-hidden",children:e.imageUrl?(0,a.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.name,className:"jsx-bbc15c8756191ac4 w-full h-full object-cover"}):(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 text-gray-400 text-4xl",children:"\uD83C\uDF7D️"})})}),e.isRecommended&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 absolute top-2 right-2 bg-yellow-400 text-blue-800 px-2 py-1 rounded-full text-xs font-bold flex items-center",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"แนะนำ"]})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 p-4",children:[(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 font-bold text-lg text-gray-800 mb-2",children:e.name}),e.description&&(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-blue-600",children:["฿",e.price.toFixed(2)]}),(0,a.jsxs)("button",{onClick:()=>eJ(e),className:"jsx-bbc15c8756191ac4 bg-blue-400 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-500 transition-colors flex items-center shadow-lg",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 mr-1"}),"เพิ่ม"]})]})]})]},e.id))})]})]}),!ep&&!eA&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 fixed left-6 bottom-24 z-40 md:hidden",children:(0,a.jsx)("button",{onClick:()=>eN(!0),className:"jsx-bbc15c8756191ac4 bg-green-500 text-white p-3 rounded-full shadow-2xl hover:bg-green-600 transition-all duration-300 transform hover:scale-110",children:(0,a.jsx)(d.A,{className:"h-6 w-6"})})}),!eA&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 fixed right-6 bottom-32 z-40 md:hidden",children:(0,a.jsx)("button",{onClick:eF,className:"jsx-bbc15c8756191ac4 group bg-gradient-to-r from-orange-500 to-red-500 text-white p-4 rounded-full shadow-2xl hover:from-orange-600 hover:to-red-600 transition-all duration-300 transform hover:scale-110 active:scale-95",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center",children:[(0,a.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-bbc15c8756191ac4 w-6 h-6 group-hover:animate-bounce",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd",className:"jsx-bbc15c8756191ac4"})}),(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 ml-2 font-bold text-sm whitespace-nowrap",children:"เรียกพนักงาน"})]})})}),z&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 absolute right-0 top-0 bottom-0 w-full max-w-lg bg-white shadow-xl flex flex-col",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-blue-400 text-white p-6 flex items-center",children:[(0,a.jsx)("button",{onClick:()=>F(!1),className:"jsx-bbc15c8756191ac4 p-2 rounded-full hover:bg-blue-500 mr-4",children:(0,a.jsx)(j.A,{className:"h-6 w-6"})}),(0,a.jsx)("h2",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold",children:"ตะกร้าของคุณ"})]}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 flex-1 overflow-y-auto p-6",children:0===E.length?(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 h-full flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-6xl mb-4",children:"\uD83D\uDED2"}),(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 text-xl font-bold text-gray-800 mb-2",children:"ตะกร้าของคุณว่างเปล่า"}),(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-gray-600 mb-6",children:"เลือกเมนูอร่อยๆ เพื่อเริ่มสั่งอาหาร"}),(0,a.jsx)("button",{onClick:()=>F(!1),className:"jsx-bbc15c8756191ac4 px-6 py-3 bg-blue-400 text-white rounded-xl font-bold hover:bg-blue-500",children:"เลือกเมนู"})]}):(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 space-y-4",children:E.map((e,s)=>(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 flex items-start justify-between mb-2",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex-1",children:[(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 font-bold text-lg",children:e.name}),(0,a.jsxs)("p",{className:"jsx-bbc15c8756191ac4 text-blue-600 font-bold text-lg",children:["฿",(e.price+e.selectedOptions.reduce((e,s)=>e+s.price,0)).toFixed(2)]}),e.selectedOptions.length>0&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-sm text-gray-600 mt-1",children:e.selectedOptions.map((s,t)=>(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4",children:[s.name," (+฿",s.price,")",t<e.selectedOptions.length-1?", ":""]},s.id))}),e.specialInstructions&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-sm text-gray-600 mt-1 italic",children:['"',e.specialInstructions,'"']})]})}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center bg-white rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>eM(s,e.quantity-1),className:"jsx-bbc15c8756191ac4 p-2 rounded-l-lg bg-gray-200 hover:bg-gray-300",children:(0,a.jsx)(p.A,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 px-4 py-2 font-bold text-lg",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>eM(s,e.quantity+1),className:"jsx-bbc15c8756191ac4 p-2 rounded-r-lg bg-gray-200 hover:bg-gray-300",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 font-bold text-lg text-blue-600",children:["฿",((e.price+e.selectedOptions.reduce((e,s)=>e+s.price,0))*e.quantity).toFixed(2)]})]})]},s))})}),E.length>0&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-gray-50 p-6 border-t",children:[ep&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 font-bold text-blue-800",children:ep.name}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-sm text-blue-600",children:["แต้มสะสม: ",ep.points.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-right",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 text-sm text-blue-600",children:"จะได้รับ"}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 font-bold text-blue-800",children:[ek," แต้ม"]})]})]})}),ew&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 font-bold text-purple-800",children:ew.title}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-sm text-purple-600",children:["discount"===ew.type&&"ลด ".concat(ew.value,"%"),"points_multiplier"===ew.type&&"แต้มคูณ ".concat(ew.value)]})]}),(0,a.jsx)("button",{onClick:()=>eS(null),className:"jsx-bbc15c8756191ac4 text-purple-600 hover:text-purple-800",children:(0,a.jsx)(j.A,{className:"h-5 w-5"})})]})}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex justify-between items-center",children:[(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 text-lg",children:"ยอดรวม"}),(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 text-lg",children:["฿",eR.toFixed(2)]})]}),ew&&"discount"===ew.type&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex justify-between items-center text-purple-600",children:[(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4",children:["ส่วนลด(",ew.value,"%)"]}),(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4",children:["-฿",(eR*ew.value/100).toFixed(2)]})]}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 border-t pt-2",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex justify-between items-center",children:[(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 text-xl font-bold",children:"ยอดรวมทั้งสิ้น"}),(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-blue-600",children:["฿",eV().toFixed(2)]})]})})]}),(0,a.jsx)("button",{onClick:()=>et(!0),disabled:em,className:"jsx-bbc15c8756191ac4 w-full py-4 bg-blue-400 text-white rounded-xl text-xl font-bold hover:bg-blue-500 flex items-center justify-center shadow-lg",children:em?(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-white"}):(0,a.jsxs)(a.Fragment,{children:["เลือกวิธีการชำระเงิน ",(0,a.jsx)(f.A,{className:"h-6 w-6 ml-2"})]})})]})]})}),L&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-blue-400 text-white p-6 rounded-t-2xl flex items-center",children:[(0,a.jsx)("button",{onClick:()=>G(null),className:"jsx-bbc15c8756191ac4 p-2 rounded-full hover:bg-blue-500 mr-4",children:(0,a.jsx)(j.A,{className:"h-6 w-6"})}),(0,a.jsx)("h2",{className:"jsx-bbc15c8756191ac4 text-xl font-bold",children:"ปรับแต่งรายการ"})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 p-6",children:[L.imageUrl&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 mb-4",children:(0,a.jsx)("img",{src:L.imageUrl||"/placeholder.svg",alt:L.name,className:"jsx-bbc15c8756191ac4 w-full h-48 object-cover rounded-xl"})}),(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 font-bold text-xl mb-2",children:L.name}),L.description&&(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-gray-600 mb-4",children:L.description}),(0,a.jsxs)("p",{className:"jsx-bbc15c8756191ac4 text-blue-600 font-bold text-xl mb-6",children:["฿",L.price.toFixed(2)]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 mb-6",children:[(0,a.jsx)("h4",{className:"jsx-bbc15c8756191ac4 font-bold text-lg mb-3",children:"จำนวน"}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-center bg-gray-100 rounded-xl p-2 w-fit mx-auto",children:[(0,a.jsx)("button",{onClick:()=>Y(Math.max(1,K-1)),className:"jsx-bbc15c8756191ac4 p-3 rounded-lg bg-white hover:bg-gray-50 shadow-sm",children:(0,a.jsx)(p.A,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 px-6 py-3 font-bold text-xl",children:K}),(0,a.jsx)("button",{onClick:()=>Y(K+1),className:"jsx-bbc15c8756191ac4 p-3 rounded-lg bg-white hover:bg-gray-50 shadow-sm",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-600"})})]})]}),L.options&&L.options.length>0&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 mb-6",children:[(0,a.jsx)("h4",{className:"jsx-bbc15c8756191ac4 font-bold text-lg mb-3",children:"ตัวเลือกเพิ่มเติม"}),(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 space-y-3",children:L.options.map(e=>(0,a.jsx)("div",{onClick:()=>eY(e),className:"jsx-bbc15c8756191ac4 "+"p-4 border-2 rounded-xl cursor-pointer transition-all ".concat(H.some(s=>s.id===e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 font-medium",children:e.name}),(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 text-blue-600 font-bold",children:["+฿",e.price.toFixed(2)]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 mb-6",children:[(0,a.jsx)("h4",{className:"jsx-bbc15c8756191ac4 font-bold text-lg mb-3",children:"เพิ่มเติม"}),(0,a.jsx)("textarea",{placeholder:"เช่น ไม่ใส่ผัก, ไม่เผ็ด, เพิ่มน้ำแข็ง, ปรุงรสจืด",rows:3,value:T,onChange:e=>Z(e.target.value),className:"jsx-bbc15c8756191ac4 w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none resize-none"})]}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 mb-6 p-4 bg-blue-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 flex justify-between items-center",children:[(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 font-bold text-lg",children:"ราคารวม"}),(0,a.jsxs)("span",{className:"jsx-bbc15c8756191ac4 text-2xl font-bold text-blue-600",children:["฿",((L.price+H.reduce((e,s)=>e+s.price,0))*K).toFixed(2)]})]}),H.length>0&&(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 text-sm text-gray-600 mt-2",children:["รวมตัวเลือก: ",H.map(e=>e.name).join(", ")]})]}),(0,a.jsxs)("button",{onClick:()=>eQ(L,H,T,K),className:"jsx-bbc15c8756191ac4 w-full py-4 bg-blue-400 text-white rounded-xl text-xl font-bold hover:bg-blue-500 shadow-lg transition-colors",children:["เพิ่มลงตะกร้า (",K," ชิ้น)"]})]})]})}),E.length>0&&!z&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 fixed bottom-6 right-6 z-40",children:(0,a.jsxs)("button",{onClick:()=>F(!0),className:"jsx-bbc15c8756191ac4 bg-blue-400 text-white p-4 rounded-full shadow-2xl hover:bg-blue-500 transition-all transform hover:scale-110 relative",children:[(0,a.jsx)(x.A,{className:"h-8 w-8"}),(0,a.jsx)("span",{className:"jsx-bbc15c8756191ac4 absolute -top-2 -right-2 bg-yellow-400 text-blue-800 text-sm font-bold px-2 py-1 rounded-full min-w-[24px] h-6 flex items-center justify-center",children:E.reduce((e,s)=>e+s.quantity,0)}),(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 absolute -bottom-12 right-0 bg-white text-blue-600 px-3 py-1 rounded-lg shadow-lg font-bold text-sm whitespace-nowrap",children:["฿",eV().toFixed(2)]})]})}),(0,a.jsx)(O,{isOpen:eg,onClose:()=>eN(!1),onMemberLogin:e=>{ef(e),eN(!1),eq("ยินดีต้อนรับ ".concat(e.name),"success")},onGuestContinue:()=>{eN(!1),eq("สั่งอาหารแบบไม่เป็นสมาชิก","success")},restaurantId:e_||""}),(0,a.jsx)(C,{isOpen:es,onClose:()=>et(!1),onSelectPayment:eU,restaurantPromptPayID:eh,dynamicQRCodeData:(e=>{if(!eh)return"";try{return I()(eh,{amount:e})}catch(e){return console.error("Error generating PromptPay QR code:",e),""}})(eV()),totalAmount:eV(),onReceiptUpload:eH,isUploading:en}),ex.show&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 "+"fixed bottom-4 left-4 px-6 py-3 rounded-lg shadow-lg z-50 ".concat("success"===ex.type?"bg-green-500":"info"===ex.type?"bg-blue-500":"bg-red-500"," text-white max-w-sm"),children:ex.message}),em&&(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"jsx-bbc15c8756191ac4 bg-white rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"jsx-bbc15c8756191ac4 animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"jsx-bbc15c8756191ac4 text-lg font-bold mb-2",children:"กำลังส่งออเดอร์..."}),(0,a.jsx)("p",{className:"jsx-bbc15c8756191ac4 text-gray-600",children:"กรุณารอสักครู่"})]})}),(0,a.jsx)(n(),{id:"bbc15c8756191ac4",children:".hide-scrollbar.jsx-bbc15c8756191ac4{-ms-overflow-style:none;scrollbar-width:none}.hide-scrollbar.jsx-bbc15c8756191ac4::-webkit-scrollbar{display:none}.line-clamp-2.jsx-bbc15c8756191ac4{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}@-webkit-keyframes slide-in-left{from{-webkit-transform:translatex(-100%);transform:translatex(-100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slide-in-left{from{-moz-transform:translatex(-100%);transform:translatex(-100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slide-in-left{from{-o-transform:translatex(-100%);transform:translatex(-100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slide-in-left{from{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}.animate-slide-in-left.jsx-bbc15c8756191ac4{-webkit-animation:slide-in-left.3s ease-out;-moz-animation:slide-in-left.3s ease-out;-o-animation:slide-in-left.3s ease-out;animation:slide-in-left.3s ease-out}"})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-blue-400",children:(0,a.jsxs)("div",{className:"text-center text-white p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"ไม่พบข้อมูลร้านอาหาร"}),(0,a.jsx)("p",{className:"mb-6",children:"กรุณาสแกน QR Code ใหม่อีกครั้ง"})]})})}function Q(){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)().get("id");return((0,c.useEffect)(()=>{s||e.push("/")},[s,e]),s)?(0,a.jsx)(J,{}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"ไม่พบข้อมูลร้านอาหาร"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"กรุณาสแกน QR Code ใหม่อีกครั้ง"})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,122,234,955,470,441,684,358],()=>s(2723)),_N_E=e.O()}]);